I"Ã%<blockquote>
  <p>å…·ä½“ç¨‹åºè§ä¸Šä¸€ç¯‡æ–‡ç« <a href="http://pluckytyx.top/2017/09/%E8%8B%B1%E6%96%87%E7%9F%AD%E8%AF%AD%E9%BB%98%E5%86%99%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7">è¯ç»„é»˜å†™å‘½ä»¤è¡Œå·¥å…·</a></p>
</blockquote>

<h5 id="ä¿®æ­£çš„åœ°æ–¹">ä¿®æ­£çš„åœ°æ–¹</h5>
<ul>
  <li>å…¨å±€å¼‚å¸¸æ•è·ã€‚</li>
  <li>åˆ©ç”¨â€œ -â€åˆ†éš”ä¸­è‹±æ–‡ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒä»€ä¹ˆenvironment-friendlyäº†ã€‚</li>
</ul>

<h5 id="ä¿®æ­£ä»£ç ">ä¿®æ­£ä»£ç </h5>
<p>dictate.py</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/python
# coding=utf-8
</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="n">os</span><span class="p">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">'/Users/plucky/Plucky/Notes'</span><span class="p">)</span>  <span class="c1"># åˆ‡æ¢ç›®å½•è‡³è¯ç»„æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹
</span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'1'</span><span class="p">)</span> <span class="k">as</span> <span class="n">data</span><span class="p">:</span>

    <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="s">"start"</span><span class="p">]</span>
    <span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="s">"start"</span><span class="p">]</span>
    <span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="s">"start"</span><span class="p">]</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="s">"start"</span><span class="p">]</span>


    <span class="k">def</span> <span class="nf">make_base</span><span class="p">():</span>  <span class="c1"># å¯¼å…¥è¯ç»„
</span>        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">each_line</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="n">each_line</span> <span class="o">=</span> <span class="n">each_line</span><span class="p">.</span><span class="n">rstrip</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">each_line</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="s">' -'</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="p">(</span><span class="n">English</span><span class="p">,</span> <span class="n">Chinese</span><span class="p">)</span> <span class="o">=</span> <span class="n">each_line</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">' -'</span><span class="p">)</span>
                <span class="n">a</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">English</span><span class="p">)</span>
                <span class="n">b</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">Chinese</span><span class="p">)</span>
                <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="k">print</span> <span class="s">"</span><span class="se">\033</span><span class="s">[37mä¸€å…±å¯¼å…¥äº†</span><span class="se">\033</span><span class="s">[34m"</span><span class="p">,</span>
        <span class="k">print</span> <span class="n">count</span><span class="p">,</span>
        <span class="k">print</span> <span class="s">"</span><span class="se">\033</span><span class="s">[37mæ¡è¯ç»„"</span>


    <span class="k">def</span> <span class="nf">dictate</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>  <span class="c1"># å¼€å§‹å¬å†™
</span>        <span class="k">print</span> <span class="s">"</span><span class="se">\033</span><span class="s">[32m--start--</span><span class="se">\033</span><span class="s">[37m"</span>
        <span class="k">while</span> <span class="n">line</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">number</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">print</span> <span class="s">"</span><span class="se">\033</span><span class="s">[0m"</span>
            <span class="k">print</span> <span class="n">b</span><span class="p">[</span><span class="n">number</span><span class="p">],</span> <span class="s">"</span><span class="se">\033</span><span class="s">[34m"</span>
            <span class="n">answer</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">().</span><span class="n">rstrip</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">answer</span> <span class="o">==</span> <span class="n">a</span><span class="p">[</span><span class="n">number</span><span class="p">]:</span>
                <span class="n">c</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">number</span><span class="p">])</span>
                <span class="n">d</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">number</span><span class="p">])</span>
            <span class="n">a</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">number</span><span class="p">])</span>
            <span class="n">b</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">number</span><span class="p">])</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">print</span> <span class="s">"</span><span class="se">\n\033</span><span class="s">[32m--end--</span><span class="se">\033</span><span class="s">[37m"</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">make_base</span><span class="p">()</span>
        <span class="k">print</span> <span class="s">"è¾“å…¥è¦æµ‹è¯•çš„è¯ç»„æ•°é‡ï¼š</span><span class="se">\033</span><span class="s">[34m"</span><span class="p">,</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">raw_input</span><span class="p">())</span>
        <span class="n">dictate</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
        <span class="n">wrong</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">grade</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">1.00</span> <span class="o">*</span> <span class="n">wrong</span> <span class="o">/</span> <span class="n">lines</span><span class="p">)</span>

        <span class="k">print</span> <span class="s">"</span><span class="se">\033</span><span class="s">[37mæœ€ç»ˆæˆç»©ï¼š</span><span class="se">\033</span><span class="s">[32m"</span><span class="p">,</span> <span class="n">grade</span>  <span class="c1"># æ‰“å°æˆç»©ä¸é”™è¯¯ç­”æ¡ˆ
</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">wrong</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">"</span><span class="se">\033</span><span class="s">[31mé”™è¯¯ï¼š"</span>

        <span class="k">while</span> <span class="n">wrong</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">"</span><span class="se">\033</span><span class="s">[31m"</span>
            <span class="k">print</span> <span class="n">d</span><span class="p">[</span><span class="n">wrong</span><span class="p">],</span> <span class="s">"</span><span class="se">\t\033</span><span class="s">[37m"</span><span class="p">,</span> <span class="n">c</span><span class="p">[</span><span class="n">wrong</span><span class="p">]</span>
            <span class="n">wrong</span> <span class="o">=</span> <span class="n">wrong</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="k">print</span> <span class="s">"</span><span class="se">\033</span><span class="s">[0m"</span>
    <span class="k">except</span> <span class="nb">KeyboardInterrupt</span><span class="p">:</span>  <span class="c1"># æ•æ‰ctrl+cé€ æˆçš„å¼ºåˆ¶ä¸­æ–­
</span>        <span class="k">print</span> <span class="s">"</span><span class="se">\n</span><span class="s">Bye~"</span>
</code></pre></div></div>
:ET